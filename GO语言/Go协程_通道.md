Go协程
------

### 线程调度原理

N:1模型，多个用户空间线程在1个内核空间线程上运行。优势是上下文切换非常快，因为这些线程都在内核态运行，但是无法利用多核系统的优点。
1:1模型，1个内核空间线程运行一个用户空间线程。这种充分利用了多核系统的优势但是上下文切换非常慢，因为每一次调度都会在用户态和内核态之间切换。POSIX线程模型(pthread)就是这么做的。
M:N模型，内核空间开启多个内核线程，一个内核空间线程对应多个用户空间线程。效率非常高，但是管理复杂。

### goroutine调度原理

图解协程：https://www.cnblogs.com/secondtonone1/p/11803961.html

golang采用了MPG模型管理协程，更加高效，但是管理非常复杂。
M：内核级线程
G：代表一个goroutine
P：Processor，处理器，用来管理和执行goroutine的。

### 通道channel

通道的主要作用是用来实现并发同步，最初的设计原则就是：不要让计算通过共享内存来通讯，而应 该让它们通过通讯来共享内存

###### 通道有自己的类型和方向

通道类型的零值也使用预声明的nil来表示。 一个非零通道值必须通过内置的make函数来创建。

###### 操作通道

关闭通道：close(ch) 

通道ch发送值v ：ch <- v 

从通道ch接收一个值 <-ch

查询通道的容量cap(ch)

查询通道的长度len(ch) 

